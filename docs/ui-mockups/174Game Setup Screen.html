<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Setup - Monopoly Tycoon</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Lora:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* ------------------------------ */
    /* --- 1. Design System Tokens -- */
    /* ------------------------------ */
    :root {
      /* Color Palette */
      --color-primary-50: #E6F0F6; --color-primary-100: #BEDAED; --color-primary-200: #94C3E3;
      --color-primary-300: #6BAFDA; --color-primary-400: #429BD0; --color-primary-500: #1987C7;
      --color-primary-600: #126DA3; --color-primary-700: #0C537F; --color-primary-800: #063A5B;
      --color-primary-900: #032037;
      
      --color-secondary-50: #FBE9EC; --color-secondary-500: #D7263D; --color-secondary-900: #5A0A15;

      --color-semantic-success: #1E8449; --color-semantic-warning: #F39C12; --color-semantic-error: #C0392B; --color-semantic-info: #2980B9;

      --color-neutral-white: #FFFFFF; --color-neutral-50: #F7F5F2; --color-neutral-100: #E8E5E1;
      --color-neutral-500: #7D7871; --color-neutral-900: #1C1A17; --color-neutral-black: #000000;

      /* Typography */
      --font-family-primary: 'Lora', serif; --font-family-secondary: 'Inter', sans-serif;
      
      --font-size-h1: 48px; --font-size-h2: 36px; --font-size-h3: 28px; --font-size-h4: 20px;
      --font-size-body: 16px; --font-size-caption: 14px;

      --font-weight-regular: 400; --font-weight-semibold: 600; --font-weight-bold: 700;

      --line-height-tight: 1.2; --line-height-heading: 1.4; --line-height-body: 1.6;

      /* Spacing */
      --spacing-xs: 4px; --spacing-sm: 8px; --spacing-md: 16px; --spacing-lg: 24px;
      --spacing-xl: 32px; --spacing-2xl: 48px; --spacing-3xl: 64px;

      /* Borders & Shadows */
      --border-radius-md: 8px;
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
      --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
    }

    /* ------------------------------ */
    /* --- 2. CSS Reset & Base Styles -- */
    /* ------------------------------ */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    html, body {
      height: 100%;
    }
    body {
      font-family: var(--font-family-secondary);
      background-color: var(--color-primary-900);
      background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23063A5B" fill-opacity="0.4"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
      color: var(--color-neutral-900);
      line-height: var(--line-height-body);
      overflow-y: auto;
    }

    /* ------------------------------ */
    /* --- 3. Screen Layout -- */
    /* ------------------------------ */
    .setup-screen {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100%;
      padding: var(--spacing-3xl) var(--spacing-lg);
    }
    .setup-panel {
      background-color: var(--color-neutral-50);
      border-radius: var(--border-radius-md);
      box-shadow: var(--shadow-lg);
      width: 100%;
      max-width: 1000px;
      padding: var(--spacing-2xl);
      border: 1px solid var(--color-primary-800);
    }
    .setup-panel__title {
      font-family: var(--font-family-primary);
      font-size: var(--font-size-h2);
      font-weight: var(--font-weight-bold);
      text-align: center;
      margin-bottom: var(--spacing-xl);
      color: var(--color-primary-800);
    }
    .setup-panel__form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--spacing-2xl);
    }
    .setup-panel__actions {
      grid-column: 1 / -1;
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: var(--spacing-xl);
      padding-top: var(--spacing-lg);
      border-top: 1px solid var(--color-neutral-100);
    }
    
    /* ------------------------------ */
    /* --- 4. Component Styles      -- */
    /* ------------------------------ */
    
    /* Form Group */
    .form-group {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-sm);
    }
    .form-group > label, .fieldset > legend {
      font-size: var(--font-size-h4);
      font-family: var(--font-family-primary);
      font-weight: var(--font-weight-semibold);
      color: var(--color-primary-700);
      margin-bottom: var(--spacing-sm);
    }

    /* Text Input */
    .text-input {
      font-family: var(--font-family-secondary);
      font-size: var(--font-size-body);
      padding: 12px 16px;
      background: var(--color-neutral-white);
      color: var(--color-neutral-900);
      border: 1px solid var(--color-neutral-500);
      border-radius: 4px;
      transition: border-color 150ms ease, box-shadow 150ms ease;
    }
    .text-input:focus {
      outline: none;
      border: 2px solid var(--color-primary-500);
      box-shadow: 0 0 0 3px rgba(25, 135, 199, 0.2);
      padding: 11px 15px; /* Adjust padding to keep size consistent */
    }
    .text-input.is-error {
      border: 2px solid var(--color-semantic-error);
      padding: 11px 15px;
    }
    .validation-message {
      font-size: var(--font-size-caption);
      color: var(--color-semantic-error);
      min-height: 20px;
    }

    /* Token Selector */
    .token-selector__grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(64px, 1fr));
      gap: var(--spacing-md);
    }
    .token-selector__token {
      aspect-ratio: 1 / 1;
      background-color: var(--color-neutral-white);
      border: 2px solid var(--color-primary-100);
      border-radius: var(--border-radius-md);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 150ms ease-out;
      box-shadow: var(--shadow-md);
    }
    .token-selector__token svg {
      width: 60%;
      height: 60%;
      fill: var(--color-neutral-500);
      transition: fill 150ms ease-out;
    }
    .token-selector__token:hover,
    .token-selector__token:focus-visible {
      border-color: var(--color-primary-500);
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }
    .token-selector__token.is-selected {
      border-color: var(--color-primary-700);
      background-color: var(--color-primary-50);
      box-shadow: 0 0 0 3px var(--color-primary-500);
    }
    .token-selector__token.is-selected svg {
      fill: var(--color-primary-700);
    }
    .token-selector__token:focus {
        outline: none;
    }
    .token-selector__token:focus-visible {
        outline: 2px solid var(--color-primary-500);
        outline-offset: 2px;
    }

    /* Segmented Control */
    .segmented-control {
      display: flex;
      border: 1px solid var(--color-neutral-500);
      border-radius: 6px;
      overflow: hidden;
    }
    .segmented-control__button {
      flex-grow: 1;
      padding: var(--spacing-sm) var(--spacing-md);
      font-family: var(--font-family-secondary);
      font-size: var(--font-size-body);
      font-weight: var(--font-weight-semibold);
      background-color: var(--color-neutral-white);
      color: var(--color-primary-700);
      border: none;
      border-right: 1px solid var(--color-neutral-500);
      cursor: pointer;
      transition: background-color 150ms ease;
    }
    .segmented-control__button:last-child {
      border-right: none;
    }
    .segmented-control__button:hover {
      background-color: var(--color-primary-50);
    }
    .segmented-control__button.is-selected {
      background-color: var(--color-primary-700);
      color: var(--color-neutral-white);
    }
    .segmented-control__button:focus-visible {
        outline: 2px solid var(--color-primary-500);
        outline-offset: -3px;
        z-index: 1;
    }
    .segmented-control__button:focus {
        outline: none;
    }
    
    /* AI Config */
    .opponent-config-list {
      display: flex;
      flex-direction: column;
      gap: var(--spacing-lg);
    }
    .opponent-config {
      padding: var(--spacing-lg);
      background-color: var(--color-neutral-100);
      border-radius: var(--border-radius-md);
      border: 1px solid var(--color-neutral-500);
    }
    .opponent-config legend {
      font-size: var(--font-size-body);
      font-weight: var(--font-weight-semibold);
      color: var(--color-neutral-900);
      margin: 0;
    }
    
    /* Buttons */
    .btn {
      font-family: var(--font-family-secondary);
      font-size: var(--font-size-body);
      font-weight: var(--font-weight-semibold);
      border-radius: 6px;
      border: none;
      cursor: pointer;
      text-decoration: none;
      transition: all 150ms ease-out;
    }
    .btn:focus { outline: none; }
    .btn:focus-visible {
        outline: 2px solid var(--color-primary-400);
        outline-offset: 2px;
    }
    .btn--primary {
      background-color: var(--color-primary-500);
      color: var(--color-neutral-white);
      padding: 12px 24px;
    }
    .btn--primary:hover {
      background-color: var(--color-primary-600);
      box-shadow: var(--shadow-md);
    }
    .btn--primary:active {
      background-color: var(--color-primary-700);
      transform: scale(0.98);
    }
    .btn--primary:disabled {
      background-color: var(--color-primary-200);
      color: var(--color-primary-50);
      cursor: not-allowed;
      box-shadow: none;
    }
    .btn--secondary {
      background-color: transparent;
      color: var(--color-primary-700);
      border: 1px solid var(--color-primary-700);
      padding: 11px 23px;
    }
    .btn--secondary:hover {
      background-color: var(--color-primary-50);
      color: var(--color-primary-800);
    }
    .btn--secondary:active {
      background-color: var(--color-primary-100);
      transform: scale(0.98);
    }
  </style>
</head>
<body>
  <main class="setup-screen" role="main">
    <div class="setup-panel">
      <h1 class="setup-panel__title">Game Setup</h1>
      <form class="setup-panel__form" onsubmit="return false;">
        
        <fieldset class="form-group" style="grid-column: 1 / -1; display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-2xl); border: none;">
            <legend style="grid-column: 1 / -1; padding: 0; font-size: 0;">Player and Token Configuration</legend>
            <!-- Player Profile Section -->
            <div class="form-group">
                <label for="playerName">Your Name</label>
                <input type="text" id="playerName" class="text-input" placeholder="Enter Your Name" maxlength="16" aria-describedby="nameError" required>
                <p class="validation-message" id="nameError" aria-live="polite"></p>
            </div>
            
            <!-- Token Selection Section -->
            <div class="form-group">
                <label>Choose Your Token</label>
                <div class="token-selector__grid" role="radiogroup" aria-labelledby="token-label">
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Top Hat">
                        <svg viewBox="0 0 24 24"><path d="M12 2C9.24 2 7 4.24 7 7v3H6c-1.1 0-2 .9-2 2v2c0 1.1.9 2 2 2h1v3H6v2h12v-2h-1v-3h1c1.1 0 2-.9 2-2v-2c0-1.1-.9-2-2-2h-1V7c0-2.76-2.24-5-5-5zm-3 8V7c0-1.66 1.34-3 3-3s3 1.34 3 3v3H9zm2 4h2v3h-2v-3z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Car">
                        <svg viewBox="0 0 24 24"><path d="M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Thimble">
                        <svg viewBox="0 0 24 24"><path d="M4 10.6c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.87 5.13L12 22l-6.13-6.27C4.7 14.33 4 12.55 4 10.6zm2 0c0 3.31 2.69 6 6 6s6-2.69 6-6c0-1.58-.61-3.03-1.61-4.13L12 2.81 7.61 6.47C6.61 7.57 6 9.02 6 10.6z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Boot">
                         <svg viewBox="0 0 24 24"><path d="M20.5 15c.83 0 1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5H16V3.5c0-.83-.67-1.5-1.5-1.5S13 2.67 13 3.5v1H5.5c-.83 0-1.5.67-1.5 1.5V12h1.17c.55 0 1.05.33 1.28.83L8 15.5V20H6v2h12v-2h-2v-4.5l1.55-2.67c.23-.5.73-.83 1.28-.83H20v3.5c0 .83.67 1.5 1.5 1.5zm-1.5-2H18c-1.38 0-2.63.84-3.16 2.05L14 17.5V20h-4v-2.5l-1.16-2.45C8.31 13.84 7.06 13 5.67 13H4V6.5h15V13z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Battleship">
                         <svg viewBox="0 0 24 24"><path d="M21 13.88c0 .63-.4 1.18-.95 1.34l-3.05.87v1.91c0 .55-.45 1-1 1h-8c-.55 0-1-.45-1-1v-1.91l-3.05-.87c-.55-.16-.95-.71-.95-1.34V12h18v1.88zM21 10H3v1h18v-1zm-9-6c-3.14 0-6.14 1.29-8.31 3.46L2.31 8.84c.39.39 1.02.39 1.41 0l.69-.69C6.01 6.55 8.91 5 12 5s5.99 1.55 7.58 3.15l.69.69c.39.39 1.02.39 1.41 0l-1.38-1.38C18.14 5.29 15.14 4 12 4z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Scottie Dog">
                         <svg viewBox="0 0 24 24"><path d="M20.71 12.71c.39.39.39 1.02 0 1.41l-1.83 1.83c-.39.39-1.02.39-1.41 0l-.71-.71v2.26c0 .55-.45 1-1 1H14c-.55 0-1-.45-1-1v-1.59l-1.71 1.71c-.39.39-1.02.39-1.41 0L8.17 16H6c-.55 0-1-.45-1-1v-2H3.5c-.83 0-1.5-.67-1.5-1.5S2.67 10 3.5 10h1.79l2.7-2.7c.39-.39 1.02-.39 1.41 0l.71.71V6c0-.55.45-1 1-1h2c.55 0 1 .45 1 1v2h2.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5H16v.59l2.29 2.29c.39.39.39 1.03 0 1.42z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Wheelbarrow">
                         <svg viewBox="0 0 24 24"><path d="M19.99 11c-.01-1.3-.85-2.4-2-2.82V3h-2v2.18C14.03 5.58 12.37 6 11 6c-2.29 0-4.43.83-6 2.2L3.6 7.6C3.21 7.21 2.58 7.21 2.19 7.6l-1.41 1.41c-.39.39-.39 1.02 0 1.41l1.43 1.43C2.33 12.16 2.66 12.5 3 12.74V17H1v2h2v1h2v-1h12v1h2v-1h2v-2h-2v-4.9c1.4-.41 2.49-1.52 2.99-2.9L20 12l-.01-1zM11 8c1.63 0 3.12.78 4.14 2H6.86C7.88 8.78 9.37 8 11 8zm8 7H5v-2.1c.34.19.67.36 1 .51V15h10v-1.59c.33-.15.66-.32 1-.51V15zm-8 4c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>
                    </button>
                    <button type="button" class="token-selector__token" role="radio" aria-checked="false" aria-label="Iron">
                         <svg viewBox="0 0 24 24"><path d="M21 6c-1.66 0-3 1.34-3 3v4c0 .55-.45 1-1 1h-2v5c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2v-5H3c-.55 0-1-.45-1-1v-4c0-1.66 1.34-3 3-3h15c1.1 0 2 .9 2 2zM7 19h8v-5H7v5zm12-9c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v2h16V9z"/></svg>
                    </button>
                </div>
            </div>
        </fieldset>

        <fieldset class="form-group" style="border: none;">
            <legend>Number of Opponents</legend>
            <div class="segmented-control" role="radiogroup">
                <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-count="1">1 AI</button>
                <button type="button" role="radio" aria-checked="true" class="segmented-control__button is-selected" data-count="2">2 AI</button>
                <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-count="3">3 AI</button>
            </div>
        </fieldset>

        <fieldset class="form-group" style="border: none;">
            <legend>Opponent Difficulty</legend>
            <div class="opponent-config-list">
                <fieldset class="opponent-config" id="ai-1-config">
                    <legend>AI Opponent 1</legend>
                    <div class="segmented-control" role="radiogroup">
                        <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-difficulty="Easy">Easy</button>
                        <button type="button" role="radio" aria-checked="true" class="segmented-control__button is-selected" data-difficulty="Medium">Medium</button>
                        <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-difficulty="Hard">Hard</button>
                    </div>
                </fieldset>
                <fieldset class="opponent-config" id="ai-2-config">
                    <legend>AI Opponent 2</legend>
                    <div class="segmented-control" role="radiogroup">
                        <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-difficulty="Easy">Easy</button>
                        <button type="button" role="radio" aria-checked="true" class="segmented-control__button is-selected" data-difficulty="Medium">Medium</button>
                        <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-difficulty="Hard">Hard</button>
                    </div>
                </fieldset>
                <fieldset class="opponent-config" id="ai-3-config" style="display: none;">
                    <legend>AI Opponent 3</legend>
                    <div class="segmented-control" role="radiogroup">
                        <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-difficulty="Easy">Easy</button>
                        <button type="button" role="radio" aria-checked="true" class="segmented-control__button is-selected" data-difficulty="Medium">Medium</button>
                        <button type="button" role="radio" aria-checked="false" class="segmented-control__button" data-difficulty="Hard">Hard</button>
                    </div>
                </fieldset>
            </div>
        </fieldset>

        <div class="setup-panel__actions">
            <button type="button" class="btn btn--secondary">Back to Main Menu</button>
            <button type="submit" class="btn btn--primary" id="startGameBtn" disabled>Start Game</button>
        </div>
      </form>
    </div>
  </main>
  
  <div class="screen-variations" style="display: none;">
      <h2>Screen Variations</h2>
      <div class="variation-group">
          <h3>Variant Name: "Default State"</h3>
          <p>This is the initial state of the screen. The player name is empty, no token is selected, and the 'Start Game' button is disabled. Two AI opponents are configured by default.</p>
      </div>
      <div class="variation-group">
          <h3>Variant Name: "Validation Error State"</h3>
          <p>This state occurs when the user enters an invalid name. The input field is highlighted in red, an error message is displayed, and the 'Start Game' button remains disabled.</p>
          <div class="form-group">
              <label for="playerName-demo">Your Name</label>
              <input type="text" id="playerName-demo" class="text-input is-error" value="Al" maxlength="16" aria-describedby="nameError-demo" required>
              <p class="validation-message" id="nameError-demo" aria-live="polite">Name must be at least 3 characters long.</p>
          </div>
      </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- State Management ---
        const state = {
            playerName: '',
            isPlayerNameValid: false,
            selectedToken: null,
            opponentCount: 2,
            aiConfig: {
                1: 'Medium',
                2: 'Medium',
                3: 'Medium'
            }
        };

        // --- Element References ---
        const playerNameInput = document.getElementById('playerName');
        const nameError = document.getElementById('nameError');
        const tokenButtons = document.querySelectorAll('.token-selector__token');
        const opponentCountControls = document.querySelectorAll('.opponent-count-selector .segmented-control__button');
        const aiConfigPanels = {
            1: document.getElementById('ai-1-config'),
            2: document.getElementById('ai-2-config'),
            3: document.getElementById('ai-3-config')
        };
        const startGameBtn = document.getElementById('startGameBtn');

        // --- Validation Logic ---
        function validatePlayerName() {
            const name = playerNameInput.value.trim();
            if (name.length === 0) {
                nameError.textContent = '';
                playerNameInput.classList.remove('is-error');
                return false;
            }
            if (name.length < 3) {
                nameError.textContent = 'Name must be at least 3 characters long.';
                playerNameInput.classList.add('is-error');
                return false;
            }
            if (!/^[a-zA-Z0-9]+$/.test(name)) {
                nameError.textContent = 'Name can only contain letters and numbers.';
                playerNameInput.classList.add('is-error');
                return false;
            }
            nameError.textContent = '';
            playerNameInput.classList.remove('is-error');
            return true;
        }

        function checkFormValidity() {
            const isFormValid = state.isPlayerNameValid && state.selectedToken !== null;
            startGameBtn.disabled = !isFormValid;
        }

        // --- Event Listeners ---
        playerNameInput.addEventListener('input', () => {
            state.isPlayerNameValid = validatePlayerName();
            state.playerName = playerNameInput.value.trim();
            checkFormValidity();
        });

        tokenButtons.forEach(button => {
            button.addEventListener('click', () => {
                tokenButtons.forEach(btn => {
                    btn.classList.remove('is-selected');
                    btn.setAttribute('aria-checked', 'false');
                });
                button.classList.add('is-selected');
                button.setAttribute('aria-checked', 'true');
                state.selectedToken = button.getAttribute('aria-label');
                checkFormValidity();
            });
        });

        opponentCountControls.forEach(button => {
            button.addEventListener('click', () => {
                opponentCountControls.forEach(btn => {
                    btn.classList.remove('is-selected');
                    btn.setAttribute('aria-checked', 'false');
                });
                button.classList.add('is-selected');
                button.setAttribute('aria-checked', 'true');
                state.opponentCount = parseInt(button.dataset.count, 10);
                
                // Show/hide AI config panels
                Object.values(aiConfigPanels).forEach(panel => panel.style.display = 'none');
                for (let i = 1; i <= state.opponentCount; i++) {
                    aiConfigPanels[i].style.display = 'block';
                }
            });
        });

        document.querySelectorAll('.opponent-config').forEach((panel, index) => {
            const aiIndex = index + 1;
            panel.querySelectorAll('.segmented-control__button').forEach(button => {
                button.addEventListener('click', () => {
                    panel.querySelectorAll('.segmented-control__button').forEach(btn => {
                        btn.classList.remove('is-selected');
                        btn.setAttribute('aria-checked', 'false');
                    });
                    button.classList.add('is-selected');
                    button.setAttribute('aria-checked', 'true');
                    state.aiConfig[aiIndex] = button.dataset.difficulty;
                });
            });
        });

        startGameBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if(!startGameBtn.disabled) {
                console.log('Starting Game with config:', state);
                alert('Starting game! Check console for configuration.');
            }
        });

    });
  </script>
</body>
</html>